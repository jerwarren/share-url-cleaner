<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="share cleaner">
        <title>Share Cleaner</title>
        <link rel="manifest" href="manifest.json">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#c5ea53">
        <link rel="icon" type="image/png" href="icon.png" />
        <link rel="apple-touch-icon" href="icon.png">
        <link rel="apple-touch-startup-image" href="icon.png">
        <meta name="apple-mobile-web-app-capable" content="yes">
    </head>
    <body>
        <style>
            label, textarea {
                width: 90%;
                margin-left: 5%;
            }
        </style>

        <label for="title">Share Title</label>
        <textarea id="title"></textarea>
        <label for="text">Share Text</label>
        <textarea id="text"></textarea>
        <label for="url">Share URL</label>
        <textarea id="url"></textarea>

        <script>
            if('serviceWorker' in navigator) {
              navigator.serviceWorker.register('sw.js');
            }
            window.addEventListener('DOMContentLoaded', () => {
                const parsedUrl = new URL(window.location);
                
                // searchParams.get() will properly handle decoding the values.
                shareTitle = parsedUrl.searchParams.get('title');
                shareText = parsedUrl.searchParams.get('text');
                shareURL = parsedUrl.searchParams.get('url');
                
                if (shareTitle !== null)
                    document.querySelector('#title').innerHTML = shareTitle;
                
                if (shareText !== null)
                    document.querySelector('#text').innerHTML = shareText;
                
                if (shareURL !== null)
                    document.querySelector('#url').innerHTML = shareURL;
                
               if (shareText !== null)
                    reShare(shareText);
            
            });
       </script>
    <script src="script.js"></script>
    </body>



